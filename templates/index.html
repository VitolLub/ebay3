<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>{{ title }}</title>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js'></script>
</head>
<body>
<p>sdfasd</p>
<form method="post">
    <input name="seller" value="Seller" type="text">
<button value="Send" type="submit">Send</button>
</form>
 <ul>
    {% if message %}
    {% endif %}
        <p>{{ message }}</p>
    {% if seller  %}
{#        <p>{{ seller }}</p>#}
        {%for i in range(0, len)%}
            <table style="width:100%">
              <tr>
                    <th>Item Id</th>
                    <th>Title</th>
                    <th>Marketplace</th>
                  <th>Chart</th>
                  <th>Photo</th>
                  <th>Url</th>
                  <th>Seller Name</th>
                  <th>Kind</th>
                  <th>Price</th>
                  <th>Status</th>
              </tr>
              <tr>
                <td>{{seller[i].itemId}}</td>
                <td><a href="{{seller[i].viewItemURL}}">{{seller[i].title}}</a></td>
                <td>{{seller[i].globalId}}</td>
                  <td><a href="#" id="demo" onclick="getDate({{ seller[i].qt_res[0].date }},{{ seller[i].qt_res[0].quantity }})">Show</a></td>
                  <td><img src="{{seller[i].galleryURL}}"></td>
                  <td><a href="{{seller[i].storeURL}}">{{seller[i].storeName}}</a></td>
                  <td>{{seller[i]._currencyId}}</td>
                  <td>{{seller[i].value}}</td>
                  <td>{{ seller[i].active}}</td>
              </tr>
            </table>
        {%endfor%}
    {% endif %}
   </ul>
<script>
          function getDate(myArr,qtarr) {
              // bar chart data
              let iterable = myArr;
              let qt = qtarr;
              alert(qt);
              alert(iterable);
              a = [];
              var i = 0;
              for (i=0;i<iterable.length;i++) {
                  console.log(iterable[i]);
                  a.push({x: new Date(iterable[i]), y: qt[i]});
              }
              var chart = new CanvasJS.Chart("chartContainer", {
                  animationEnabled: true,
                  zoomEnabled: true,
                  theme: "dark2",
                  title: {
                      text: "Selling day by day"
                  },
                  data: [{
                      type: "line",
                      xValueFormatString: "",
                      showInLegend: true,
                      name: "Log Scale",

                      dataPoints: a
                  }]
              });
              chart.render();

          }
      </script>

<div id="chartContainer" style="height: 370px; width: 100%;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<div style="margin-top:16px;color:dimgrey;font-size:9px;font-family: Verdana, Arial, Helvetica, sans-serif;text-decoration:none;">Source: <a href="https://canvasjs.com/html5-javascript-line-chart/" target="_blank" title="JavaScript Line Charts &amp; Graphs ">https://canvasjs.com/html5-javascript-line-chart/</a></div>

</body>
</html>